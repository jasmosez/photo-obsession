
<%# SHOW USER AND POST IMAGE %>
<h3><%= @post.user.username %></h3>
<%= image_tag(@post.img_url) %><br>

<%# RENDER LIKE or UNLIKE BUTTON %>
<% if @post.like?(@user) %>
    <%= button_to "Unlike", delete_like_path(@post), method: :delete %>
<% else %>
    <%= button_to "Like", create_like_path(@post), method: :post %>
<% end %>

<%# SHOW EXISTING LIKES %>
<%= pluralize(@post.total_likes, "like") %>

<%# SHOW COMMENT THREAD %>
<% @post.comments.each do |c| %>
    <li>
        <%= "#{c.user.username} said #{c.content}" %>
        <% if c.user.id == @user %>
            <%= " | " %>
            <%=link_to("Edit", edit_comment_path(c)) %>
        <% end %>
    </li>
<% end %>

<%# ADD NEW COMMENT %>
<p>Add Comment</p>
<%= form_for(@comment, method: "POST", url: comments_path) do |f| %>
    <%= f.hidden_field(:post_id, value: @post.id) %>
    <%= f.hidden_field(:user_id, value: @user) %>
    <%= f.text_area :content %>
    <%= f.submit "Add Comment" %>
<% end %>